---
title: "This Guy, Elmore, Made This"
author: "Elmore Wallace"
output: flexdashboard::flex_dashboard
---


```{r,message=FALSE,warning=FALSE,echo=FALSE}


```


AAPL: Stock Price Trends {.storyboard}
=========================================

### **AAPL: Stock Price with 10 and 20 moving average, MACD at Bottom** {data-commentary-width=200}

```{r, eval=TRUE, include=FALSE, fig.width=10,fig.height=7}
library(quantmod)
getSymbols("AAPL", src = "yahoo")
chartSeries(AAPL,
            subset = '2017-12::2018',
            show.grid = TRUE,
            time.scale = NULL,
            log.scale = FALSE,
            bar.type = "ohlc")
  addSMA(n = 50, on = 1, overlay = TRUE, col = "blue")
  addSMA(n = 20, on = 1, overlay = TRUE, col = "red")
  addMACD(fast = 12, slow = 26, signal = 9)
```  


```{r}
addRSI(n = 14, maType = "EMA", wilder = TRUE)
```

```

*** 

**Summary**   
   
* Let me tell you some stuff about AAPL.   
* It may be overpriced, but is trending very strong, especailly after the last few months.
   
**Observations**   
   
* Would Recommend something else.
* It's applie.
 

### **AAPL: Another Graphic** Candle stick + BBands + CCI {data-commentary-width=200}

```{r, eval=TRUE, include=FALSE, fig.width=10,fig.height=7}
chartSeries(AAPL, theme = 'white', subset = '2017-12::2018')
  addBBands()
```

```{r}
addCCI()
```



*** 

**Summary**   
   
* You like this?
   
**Observations**   
   
* Things have been observed
 

### **AAPL: One Year Adjusted Stock Price** Interactive Graphic  {data-commentary-width=200}

```{r,fig.width=10,fig.height=7, eval = TRUE}

library(dygraphs)
library(quantmod)
library(tidyquant)


AAPLDy <-
  tq_get("AAPL",
         get = "stock.prices",
         from = "2017-12-01",
         to = "2018-06-20")

AAPLdyII <-
  AAPLDy %>%
  select(date, adjusted)

Xts <-
xts(AAPLdyII$adjusted,
order.by = AAPLdyII$date)


dygraph(Xts, main = "One Year of AAPL Adjusted Stock Price Data") %>%
  dyAnnotation("2018-06-06", text = "E", 
               tooltip = "Stock Price makes a Promising Recovery") %>% 
  dyAxis("y", label = "Stock Price in Dollars") %>%
  dyAnnotation("2018-04-27", text = "D", 
               tooltip = "Three Year Low") %>% 
  dyAxis("y", label = "Stock Price in Dollars") %>%
  dyAnnotation("2018-02-06", text = "C", 
               tooltip = "Amazon Whole Foods Purchase") %>% 
  dyAnnotation("2018-01-17", text = "B", 
               tooltip = "Amazon Announces Smart Grocery Stores Called Amazon Go") %>% 
  dyAnnotation("2017-12-18", text = "A", 
               tooltip = "Amazon Announces Meal Kits to Come Fall 2016") %>% 
  dyAxis("y", label = "Stock Price in Dollars")  

```

*** 

**Summary**   
   
* 
   
**Observations**   
   
* 


### **AAPL: Look at Dis Graph** I makes anoder won {data-commentary-width=200}

```{r,fig.width=10,fig.height=8}

plot(1:100)

```

*** 

**Summary**   
   
* 
   
**Observations**   
   
* 



AAPL: Key Financial Ratios {.storyboard}
=========================================

### Financial Ratios

```{r,fig.width=12,fig.height=5, eval = TRUE}

library(tidyquant)
AAPLFinancial <-
  tq_get("AAPL", "key.ratios")

AAPL1 <- 
  AAPLFinancial$data[[1]]

AAPL2 <- 
  AAPLFinancial$data[[2]]

AAPL3 <-
  AAPLFinancial$data[[3]]

AAPL4 <-
  AAPLFinancial$data[[4]]

AAPL5 <-
  AAPLFinancial$data[[5]]

AAPL6 <-
  AAPLFinancial$data[[6]]

AAPL7 <-
  AAPLFinancial$data[[7]]

AAPL1 %>%
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category, ncol = 5, scales = "free") +
  geom_line() +
  labs(title = "AAPL: Financial Ratios 2008 to 2018",
       subtitle = "Enjoy",
       y = "Free Y Scale",
       x = "Date by Year") +
  theme_tq(base_size = 6, base_family = "")

```

*** 

Some commentary about Frame 1.

### Profitability Ratios

```{r,fig.width=12,fig.height=5, eval = TRUE}
AAPL2 %>%
  # filter(category %in% c("fish", "bob"), sub.section %in% c())
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category + sub.section, ncol = 5, scales = "free" ) +
  geom_line() +
  labs(title = "AAPL: Profitability Ratios",
       y = "Free Y Scale",
       x = "Date by Year") +
  theme_tq(base_size = 6)

```

### Growth Ratios

```{r,fig.width=12,fig.height=5, eval = TRUE}
AAPL3 %>%
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category + sub.section, ncol = 5, scales = "free" ) +
  geom_line() +
  labs(title = "AAPL: Growth Ratios",
       y = "Free Scale Y",
       x = "Date by Year") +
  theme_tq(base_size = 6)
```

### Cash Flow Ratios

```{r,fig.width=12,fig.height=5, eval = TRUE}
AAPL4 %>%
  filter(sub.section == "Cash Flow Ratios") %>%
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category, nrow = 2, scales = "free") +
  geom_line() +
  labs(title = "AAPL: Cash Flow Ratios",
       subtile = "Data From Yahoo Finance",
       y = "Free Scale Y",
       x = "Date by Year") +
  theme_tq(base_size = 8)
```

### Financial Health Ratios

```{r,fig.width=24,fig.height=10, eval = TRUE}
AAPL5 %>%
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category + sub.section, nrow = 5, scales = "free" ) +
  geom_line() +
  labs(title = "AAPL:Financial Health Ratios",
       y = "Free Y Scale",
       x = "Date by Year") +
  theme_tq(base_size = 7)
```

### Efficiency Ratios

```{r,fig.width=12,fig.height=5, eval = TRUE}
AAPL6 %>%
  filter(sub.section == "Efficiency") %>%
  ggplot(aes(x = value, y = date)) +
  facet_wrap(~category, nrow = 4, scales = "free") +
  geom_line() +
  labs(title = "AAPL: Efficiency Ratios",
       subtile = "Enjoy",
       y = "Free Scale Y",
       x = "Date by Year") +
  theme_tq(base_size = 10)
```

### Valuation Ratios

```{r,fig.width=12,fig.height=5, eval = TRUE}
AAPL7 %>%
  filter(sub.section == "Valuation Ratios") %>%
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category, nrow = 4, scales = "free") +
  geom_line() +
  labs(title = "AAPL: Valuation Ratios",
       subtile = "Enjoy",
       y = "Free Scale Y",
       x = "Date by Year") +
  theme_tq(base_size = 10)
```


Data Tables {.storyboard}
=========================================

### Stock Price data

```{r, fig.width=12, fig.height=7, eval = TRUE}

library(DT)
datatable(AAPL, options = list(pageLength = 5))

```

Economic Data {.storyboard}
=========================================

### Consumer Price Index
```{r, fig.width=12, fig.height=7, eval = TRUE}
CPI <-
  tq_get(x = c("CPIAUCSL"),
         get = "economic.data", 
         from = "2000-01-01", 
         to = "2018-01-01")

CPI %>%
  ggplot(aes(x = date, y = price)) +
  geom_line(color = "blue", size = 1) +
  labs(title = "Consumer Price Index for All Urban Consumers: All Items (CPIAUCSL)",
       subtitle = "Index 1982 - 1984 = 100 | Monthly",
       y = "Index 1982 - 1984 = 100",
       x = "Source: U.S. Bureau of Labor Statistics via FRED") +
  theme_tq()
```

### Real Gross Domestic Product
```{r, fig.width=12, fig.height=7, eval = TRUE}
RGDP <-
  tq_get(x = c("GDPC1"),
         get = "economic.data",
         from = "2000-01-01",
         to = "2018-01-01")

RGDP %>%
  ggplot(aes(x = date, y = price)) +
  geom_line(color = "blue", size = 2) +
  labs(title = "Real Gross Domestic Product (GDPC1)",
       subtitle = "Billions of Chained 2009 Dollars, Quarterly",
       y = "Billions of Chained 2009 Dollars",
       x = "Source: US Bureau of Economic Analysis via FRED") +
  theme_tq()
```

### Civilian Unemployment Rate
```{r, fig.width=12, fig.height=7, eval = TRUE}
UnEmploy <- 
  tq_get(x = c("UNRATE"), 
         get = "economic.data",
         from = "2000-01-01",
         to = "2018-01-01")

UnEmploy %>%
  ggplot(aes(x = date, y = price)) +
  geom_line(color = "blue", size = 1) +
  labs(title = "Civilian Unemployment Rate (UNRATE)",
       subtitle = "Percent | Monthly",
       x = "Source: U.S. Bureau of Labor Statistics via FRED",
       y = "Percent") +
  theme_tq()
```

### Industrial Production Index
```{r, fig.width=12, fig.height=7, eval = TRUE}
IndustrialProduction <-
  tq_get(x = c("INDPRO"),
         get = "economic.data",
         from = "2000-01-01",
         to = "2018-01-01")

IndustrialProduction %>%
  ggplot(aes(x = date, y = price)) +
  geom_line(color = "blue", size = 1) +
  labs(title = "Industrial Production Index",
       subtitle = "Index 2012 = 100 | Monthly",
       x = "Source: Board of Governors of the Federal Reserve System (US) via FRED",
       y = "Index 2012 = 100") +
  theme_tq()
```

### Nonfarm Payrolls
```{r, fig.width=12, fig.height=7, eval = TRUE}
Nonfarm <-
  tq_get(x = c("PAYEMS"),
         get = "economic.data",
         from = "2000-01-01",
         to = "2018-01-01")

Nonfarm %>%
  ggplot(aes(x = date, y = price)) +
  geom_line(color = "blue", size = 1) +
  labs(title = "All Employees: Total Nonfarm Payrolls (PAYEMS)",
       subtitle = "Thousands of Persons | Monthly",
       y = "Thousands of Persons",
       x = "Source: U.S. Bureau of Labor Statistics via FRED") +
  theme_tq()
```

### Federal Funds Rate
```{r, fig.width=12, fig.height=7, eval = TRUE}
FF <-
  tq_get(x = c("FEDFUNDS"),
         get = "economic.data",
         from = "2000-01-01",
         to = "2018-01-01")

FF %>%
  ggplot(aes(x = date, y = price)) +
  geom_line(color = "blue", size = 1) +
  labs(title = "Effective Federal Funds Rate (FEDFUNDS)",
       subtitle = "Percent | Monthly",
       y = "Percent",
       x = "Source: Board of Governors of the Federal Reserve System via FRED") +
  theme_tq()
```

### DyGraphic

```{r, fig.width=12, fig.height=7, eval = TRUE}

library(dygraphs)
library(quantmod)
library(tidyquant)

M3Dy <-
  tq_get(x = c("MABMM301USM189S"),
         get = "economic.data",
         from = "2014-01-01",
         to = "2018-01-01")

M3DyII <-
  M3Dy %>%
  select(date, price)

XtsM3Dy <-
  xts(M3DyII$price,
      order.by = M3DyII$date)


dygraph(XtsM3Dy, main = "M3 U.S. | Trillions | Monthly") %>%
  dyAnnotation("2016-01-26", text = "E", 
               tooltip = "Stock Price makes a Promising Recovery") %>% 
  dyAxis("y", label = "Stock Price in Dollars") %>%
  dyAnnotation("2017-09-29", text = "D", 
               tooltip = "Three Year Low") %>% 
  dyAxis("y", label = "Stock Price in Dollars") %>%
  dyAnnotation("2017-06-13", text = "C", 
               tooltip = "Amazon Whole Foods Purchase") %>% 
  dyAnnotation("2015-12-07", text = "A", 
               tooltip = "Amazon Announces Smart Grocery Stores Called Amazon Go") %>% 
  dyAnnotation("2016-05-10", text = "B", 
               tooltip = "Amazon Announces Meal Kits to Come Fall 2016") %>% 
  dyAxis("y", label = "Stock Price in Dollars")  

```

*** 

**What is M3**   
   
* M3 is a measure of the money supply that includes M2 as well as large time deposits, institutional money market funds, short-term repurchase agreements and other liquid assets  
* The M3 measurement includes assets that are less liquid than other components of the money supply and are referred to as "near, near money," which are more closely related to the finances of larger financial institutions and corporations than to those of small businesses and individuals.
   
**Calculating M3 and Its Importance**   
   
* Each M3 component is given equal weight during calculation. For example, M2 and large time deposits are treated the same and aggregated without any adjustments. While this does create a simplified calculation, it assumes that each component of M3 affects the economy the same way. This can be considered a shortcoming of this measurement of the money supply.
* Since 2006, M3 is no longer tracked by the U.S. central bank, the Federal Reserve (Fed). The Fed did not use M3 in its monetary policy decisions even before 2006. The additional less liquid components of M3 did not seem to convey more economic information than was already captured by the more liquid components of M2.

   
