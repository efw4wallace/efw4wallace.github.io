---
title: "Untitled"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
```

Column {data-width=650}
-----------------------------------------------------------------------

### AAPL: Stock Daily Closing Price

```{r}
library(tidyquant)


AAPL <-
  tq_get("AAPL") 
AAPL %>%
  ggplot(aes(x = date, y = close)) +
  geom_line() +
  labs(title = "AAPL: Daily Closing Price", y = "Closing Price", x = "") +
  theme_bw()


```

Column {data-width=350}
-----------------------------------------------------------------------

### AAPL: Volume Chart

```{r}
AAPL %>%
  ggplot(aes(x = date, y = volume)) +
  geom_segment(aes(xend = date, yend = 0, color = volume)) +
  geom_smooth(method = "loess", se = FALSE) +
  labs(title = "AAPL: Volume Chart",
       subtitle = "Charting Daily Volume",
       y = "Volume", x = "") +
  theme_tq() +
  theme(legend.position = "none")
```

### AAPL: Key Financial Ratios

```{r}
AAPLFinancial <-
  tq_get("AAPL", "key.ratios")

AAPL1 <- 
  AAPLFinancial$data[[1]]

AAPL2 <- 
  AAPLFinancial$data[[2]]

AAPL3 <-
  AAPLFinancial$data[[3]]

AAPL4 <-
  AAPLFinancial$data[[4]]

AAPL5 <-
  AAPLFinancial$data[[5]]

AAPL6 <-
  AAPLFinancial$data[[6]]

AAPL7 <-
  AAPLFinancial$data[[7]]

AAPL1 %>%
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category, nrow = 4, scales = "free") +
  geom_line() +
  labs(title = "AAPL: Financial Ratios 2008 to 2018",
       subtitle = "Enjoy",
       y = "Free Y Scale",
       x = "Date by Year") +
  theme_tq()

```

### Another One

```{r}

AAPL2 %>%
  ggplot(aes(x = date, y = value)) +
  facet_wrap(~category + sub.section, scales = "free" ) +
  geom_line() +
  labs(title = "AAPL: Profitability Ratios",
       y = "Free Y Scale",
       x = "Date by Year") +
  theme_tq()

```
